{"version":3,"file":"index.js","mappings":"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","sources":["webpack://webworker/./src/style.css","webpack://webworker/./node_modules/css-loader/dist/runtime/api.js","webpack://webworker/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://webworker/./src/style.css?7163","webpack://webworker/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://webworker/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://webworker/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://webworker/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://webworker/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://webworker/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://webworker/../../src/ImageInfo/ImageInfo.ts","webpack://webworker/../../src/ImageInfo/ParcelImageInfo.ts","webpack://webworker/../../src/ImageInfo/Variables.ts","webpack://webworker/../../src/ImageInfo/calcPitch.ts","webpack://webworker/../../src/ImageInfo/getSizeAndDepth.ts","webpack://webworker/../../src/ImageInfo/index.ts","webpack://webworker/../../src/Palette/analyzePaletteTransparency.ts","webpack://webworker/../../src/Palette/calcPaletteSize.ts","webpack://webworker/../../src/Palette/createPalette.ts","webpack://webworker/../../src/Palette/freeColor.ts","webpack://webworker/../../src/Palette/index.ts","webpack://webworker/../../src/Palette/paletteEGA.ts","webpack://webworker/../../src/Palette/readPalette.ts","webpack://webworker/../../src/Palette/writePalette.ts","webpack://webworker/../../src/PixelFormat/PixelFormat.ts","webpack://webworker/../../src/PixelFormat/analysePixelFormatDef.ts","webpack://webworker/../../src/PixelFormat/defFromSamples.ts","webpack://webworker/../../src/PixelFormat/index.ts","webpack://webworker/../../src/PixelFormat/parseSignature.ts","webpack://webworker/../../src/PixelFormat/signatureFromSamples.ts","webpack://webworker/../../src/Sample.ts","webpack://webworker/../../src/Surface/Surface.ts","webpack://webworker/../../src/Surface/SurfaceImageData.ts","webpack://webworker/../../src/Surface/SurfaceStd.ts","webpack://webworker/../../src/Surface/index.ts","webpack://webworker/../../src/math/Point.ts","webpack://webworker/../../src/math/index.ts","webpack://webworker/../../src/math/radians.ts","webpack://webworker/../../src/utils/ErrorRI.ts","webpack://webworker/../../src/utils/delay.ts","webpack://webworker/../../src/utils/dump.ts","webpack://webworker/../../src/utils/dumpChunks.ts","webpack://webworker/../../src/utils/index.ts","webpack://webworker/../../src/utils/isNode.ts","webpack://webworker/../../src/utils/rangeLimit.ts","webpack://webworker/../../src/utils/subBuffer.ts","webpack://webworker/../../src/utils/utf8.ts","webpack://webworker/webpack/bootstrap","webpack://webworker/webpack/runtime/compat get default export","webpack://webworker/webpack/runtime/define property getters","webpack://webworker/webpack/runtime/hasOwnProperty shorthand","webpack://webworker/webpack/runtime/make namespace object","webpack://webworker/webpack/runtime/nonce","webpack://webworker/./src/index.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `html, body, div, p, h1, h2, h3, h4, ul, li, span, form, input, select, button {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\nbody {\r\n    color: #333;\r\n    font-family: Geneva, Arial, Helvetica, sans-serif;\r\n    font-size: 16px;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100vh;\r\n}\r\n\r\n.header {\r\n    padding: 0.5em 1em;\r\n    border-bottom: thin solid silver;\r\n}\r\n.main {\r\n    flex: 1;\r\n    overflow: auto;\r\n    display: grid;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.error {\r\n    border-radius: 0.2em;\r\n    border: thin solid red;\r\n    border-left-width: thick;\r\n    color: darkred;\r\n    padding: 1em 2em;\r\n    background: #FEE;\r\n}\r\n\r\n.progress-box {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 0.5em;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/style.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,SAAS;IACT,UAAU;AACd;;AAEA;IACI,WAAW;IACX,iDAAiD;IACjD,eAAe;;IAEf,aAAa;IACb,sBAAsB;IACtB,aAAa;AACjB;;AAEA;IACI,kBAAkB;IAClB,gCAAgC;AACpC;AACA;IACI,OAAO;IACP,cAAc;IACd,aAAa;IACb,mBAAmB;IACnB,uBAAuB;AAC3B;;AAEA;IACI,oBAAoB;IACpB,sBAAsB;IACtB,wBAAwB;IACxB,cAAc;IACd,gBAAgB;IAChB,gBAAgB;AACpB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,UAAU;AACd\",\"sourcesContent\":[\"html, body, div, p, h1, h2, h3, h4, ul, li, span, form, input, select, button {\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\nbody {\\r\\n    color: #333;\\r\\n    font-family: Geneva, Arial, Helvetica, sans-serif;\\r\\n    font-size: 16px;\\r\\n\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    height: 100vh;\\r\\n}\\r\\n\\r\\n.header {\\r\\n    padding: 0.5em 1em;\\r\\n    border-bottom: thin solid silver;\\r\\n}\\r\\n.main {\\r\\n    flex: 1;\\r\\n    overflow: auto;\\r\\n    display: grid;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.error {\\r\\n    border-radius: 0.2em;\\r\\n    border: thin solid red;\\r\\n    border-left-width: thick;\\r\\n    color: darkred;\\r\\n    padding: 1em 2em;\\r\\n    background: #FEE;\\r\\n}\\r\\n\\r\\n.progress-box {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    gap: 0.5em;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./style.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./style.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","import { PixelFormat } from \"../PixelFormat\";\nimport { PixelDepth } from \"../types\";\nimport { ColorModel } from \"../ColorModel\";\nimport { Palette } from \"../Palette/Palette\";\nimport { Point } from \"../math/Point\";\nimport { Variables, copyVars } from \"./Variables\";\nimport { calcPitch } from \"./calcPitch\";\n\nexport interface ImageInfo {\n  size: Point;\n  fmt: PixelFormat;\n  vars?: Variables;\n  pitch?: number;\n}\n\n/* eslint \"default-param-last\": \"off\" */\n\nexport const createInfoSize = (\n  size: Point,\n  depth: PixelDepth,\n  colorModel: ColorModel = \"Auto\",\n  alpha?: boolean,\n  palette?: Palette,\n  vars?: Variables\n): ImageInfo => ({\n  size,\n  fmt: new PixelFormat({ depth, colorModel, alpha, palette }),\n  vars,\n});\n\nexport const createInfo = (\n  width: number,\n  height: number,\n  depth: PixelDepth,\n  colorModel: ColorModel = \"Auto\",\n  alpha?: boolean,\n  palette?: Palette,\n  vars?: Variables\n): ImageInfo =>\n  createInfoSize(\n    new Point(width, height),\n    depth,\n    colorModel,\n    alpha,\n    palette,\n    vars\n  );\n\nexport const createInfoSign = (\n  width: number,\n  height: number,\n  signature: string,\n  vars?: Variables\n): ImageInfo => ({\n  size: new Point(width, height),\n  fmt: new PixelFormat(signature),\n  vars,\n});\n\nexport const getImageLineSize = ({ pitch, size, fmt }: ImageInfo): number =>\n  pitch ?? calcPitch(size.x, fmt.depth);\n\nexport const copyImageInfo = (src: ImageInfo): ImageInfo => ({\n  size: src.size.clone(),\n  fmt: src.fmt, // immutable object\n  vars: src.vars && copyVars(src.vars),\n  pitch: src.pitch,\n});\n","import { Point } from \"../math/Point\";\nimport { ImageInfo } from \"./ImageInfo\";\nimport { PixelFormat, ParcelPixelFormat } from \"../PixelFormat\";\n\nexport type ParcelImageInfo = Omit<ImageInfo, \"size\" | \"fmt\"> & {\n  width: number;\n  height: number;\n  fmt: ParcelPixelFormat;\n};\n\nexport const toParcelImageInfo = ({\n  size,\n  fmt,\n  ...rest\n}: ImageInfo): ParcelImageInfo => ({\n  width: size.x,\n  height: size.y,\n  fmt: fmt.toParcel(),\n  ...rest,\n});\n\nexport const fromParcelImageInfo = ({\n  width,\n  height,\n  fmt,\n  ...rest\n}: ParcelImageInfo): ImageInfo => ({\n  size: new Point(width, height),\n  fmt: PixelFormat.fromParcel(fmt),\n  ...rest,\n});\n","export type VarName =\n  | \"comment\"\n  | \"compression\" // None, RLE8, LZW ...\n  | \"bgColor\" // special pixel value for background color\n  | \"ext\" // extension: bmp, tga, jpg...\n  | \"interlaced\" // 1 if yes, 0 or undefined if no\n  | \"importantColors\" // important colors in palette\n  | \"orgX\" // x of original position\n  | \"orgY\"\n  | \"resUnit\" // resolution units: meter, inch, cm, mm, unknown (for aspect X/Y definition only)\n  | \"resX\" // x-resolution (pixels/resUnit)\n  | \"resY\"\n  | \"transparency\"; // special pixel value for transparent color\n\nexport type VarValue = string | number | string[] | number[];\n\nexport type Variables = Record<VarName | string, VarValue>;\n\nexport const copyVars = (src: Variables): Variables => {\n  const dst: Variables = {};\n  Object.entries(src).forEach(([key, value]) => {\n    dst[key] = cloneVarValue(value);\n  });\n  return dst;\n};\n\nexport const cloneVarValue = (value: VarValue): VarValue =>\n  Array.isArray(value) ? ([...value] as VarValue) : value;\n\nexport const getVarNumber = (v: VarValue | undefined, defaultValue: number) => {\n  if (typeof v === \"number\") {\n    return v;\n  }\n  if (typeof v === \"string\") {\n    const n = +v;\n    if (!Number.isNaN(n)) return n;\n  }\n  return defaultValue;\n};\n","import { PixelDepth } from \"../types\";\n\nexport const calcPitch = (\n  width: number,\n  depth: PixelDepth,\n  alignBytes?: number\n): number => {\n  const notAligned = (width * (depth === 15 ? 16 : depth) + 7) >> 3;\n  if (!alignBytes) return notAligned;\n  return alignBytes * ~~((notAligned + alignBytes - 1) / alignBytes);\n};\n","import { ImageInfo } from \"./ImageInfo\";\n\nexport const getSizeAndDepth = (info: ImageInfo) => ({\n  width: info.size.x,\n  height: info.size.y,\n  depth: info.fmt.depth,\n});\n","export * from \"./ImageInfo\";\nexport * from \"./getSizeAndDepth\";\nexport * from \"./ParcelImageInfo\";\n","import { Palette } from \"./Palette\";\n\nexport type PaletteTransparency = \"opaque\" | \"transparency\" | \"alpha\";\n\ntype WithoutParams = { type: \"opaque\" | \"alpha\" };\n\n// Palette with a single transparent color\ntype WithIndex = { type: \"transparency\"; index: number };\n\nexport type AnalyzePaletteTransparencyResult = WithoutParams | WithIndex;\n\nexport const analyzePaletteTransparency = (\n  palette: Readonly<Palette>\n): AnalyzePaletteTransparencyResult => {\n  let index = -1;\n  for (let i = 0; i < palette.length; i++) {\n    const a = palette[i]![3];\n    if (a < 255) {\n      if (index < 0 && a === 0) {\n        index = i;\n      } else {\n        return { type: \"alpha\" };\n      }\n    }\n  }\n  return index >= 0 ? { type: \"transparency\", index } : { type: \"opaque\" };\n};\n","import { PaletteOptions } from \"./Palette\";\n\nexport const calcPaletteSize = (\n  length: number,\n  options: PaletteOptions\n): number => length * (options.dword ? 4 : 3);\n","import { Palette, PaletteItem } from \"./Palette\";\n\nexport const createPalette = (count: number): Palette => {\n  const pal = new Array<PaletteItem>(count);\n  for (let i = 0; i < count; i++) {\n    pal[i] = [0, 0, 0, 255];\n  }\n  return pal;\n};\n\nexport const createFreePalette = (count: number): Palette => {\n  const pal = new Array<PaletteItem>(count);\n  for (let i = 0; i < count; i++) {\n    pal[i] = [0, 0, 0, 0];\n  }\n  return pal;\n};\n\nexport const createGrayPalette = (count: number): Palette => {\n  const pal = new Array<PaletteItem>(count);\n  const k = 255 / (count - 1);\n  for (let i = 0; i < count; i++) {\n    const g = Math.round(i * k);\n    pal[i] = [g, g, g, 255];\n  }\n  return pal;\n};\n","import { PaletteItem } from \"./Palette\";\n\nexport const isFreeColor = (pal: PaletteItem): boolean =>\n  pal[0] === 0 && pal[1] === 0 && pal[2] === 0 && pal[3] === 0;\n","export * from \"./Palette\";\nexport * from \"./createPalette\";\nexport * from \"./freeColor\";\nexport * from \"./paletteEGA\";\nexport * from \"./readPalette\";\nexport * from \"./writePalette\";\nexport * from \"./analyzePaletteTransparency\";\n","import { Palette } from \"./Palette\";\n\nconst N = 0xaa; // Norm color\nconst D = 0x55; // Dark color (for dark gray)\nconst H = 255; // High color\nconst A = 255; // alpha\n\nexport const paletteEGA: Readonly<Palette> = Object.freeze([\n  [0, 0, 0, A], // 0:Black\n  [N, 0, 0, A], // 1:Blue\n  [0, N, 0, A], // 2:Green\n  [N, N, 0, A], // 3:Cyan\n  [0, 0, N, A], // 4: Red\n  [N, 0, N, A], // 5:Magenta\n  [0, D, N, A], // 6:Brown\n  [N, N, N, A], // 7:light gray\n  [D, D, D, A], // 8: dark gray\n  [H, D, D, A], // 9: light blue\n  [D, H, D, A], // 10: light green\n  [H, H, D, A], // 11: light cyan\n  [D, D, H, A], // 12: light red\n  [H, D, H, A], // 13: light magenta\n  [D, H, H, A], // 14: yellow\n  [H, H, H, A], // 15: white\n]);\n\n// indices of the EGA palette\nexport enum iEGA {\n  black,\n  blue,\n  green,\n  cyan,\n  red,\n  magenta,\n  brown,\n  lightGray,\n  darkGray,\n  lightBlue,\n  lightGreen,\n  lightCyan,\n  lightRed,\n  lightMagenta,\n  yellow,\n  white,\n}\n","import { RAStream } from \"../stream/RAStream\";\nimport { Palette, PaletteItem, PaletteOptions } from \"./Palette\";\nimport { calcPaletteSize } from \"./calcPaletteSize\";\n\nexport const readPalette = async (\n  stream: RAStream,\n  length: number,\n  options: PaletteOptions\n): Promise<Palette> => {\n  const size = calcPaletteSize(length, options);\n  const buf = await stream.read(size);\n  return readPaletteFromBuf(buf, length, options);\n};\n\nexport const readPaletteFromBuf = (\n  buf: Uint8Array,\n  length: number,\n  options: PaletteOptions\n): Palette => {\n  const pal: Palette = new Array(length);\n  let srcPos = 0;\n  const { rgb, dword, bits6 } = options;\n  for (let dstPos = 0; dstPos < length; dstPos++) {\n    const item: PaletteItem = [0, 0, 0, 0xff];\n    item[rgb ? 2 : 0] = buf[srcPos++]!;\n    item[1] = buf[srcPos++]!;\n    item[rgb ? 0 : 2] = buf[srcPos++]!;\n    if (dword === true) item[3] = buf[srcPos++]!;\n    else if (dword === \"opaque\") {\n      item[3] = 255;\n      srcPos++;\n    }\n    if (bits6) {\n      for (let i = 0; i < 3; i++) {\n        const b = item[i]!;\n        item[i] = (b << 2) | ((b >> 4) & 3);\n      }\n    }\n    pal[dstPos] = item;\n  }\n  return pal;\n};\n","import { RAStream } from \"../stream/RAStream\";\nimport { Palette, PaletteOptions } from \"./Palette\";\nimport { calcPaletteSize } from \"./calcPaletteSize\";\n\nexport const writePaletteToBuf = (\n  palette: Readonly<Palette>,\n  buf: Uint8Array,\n  options: PaletteOptions\n) => {\n  const { rgb, dword, bits6 } = options;\n  let pos = 0;\n  const samples = dword ? 4 : 3;\n  for (let i = 0; i < palette.length; i++) {\n    const [b, g, r, a] = palette[i]!;\n    const c = rgb ? [r, g, b, a] : [b, g, r, a];\n    for (let j = 0; j < samples; j++) {\n      // eslint-disable-next-line no-param-reassign\n      buf[pos++] = bits6 ? c[j]! >> 2 : c[j]!;\n    }\n  }\n};\n\nexport const writePalette = async (\n  palette: Readonly<Palette>,\n  stream: RAStream,\n  options: PaletteOptions\n) => {\n  const size = calcPaletteSize(palette.length, options);\n  const buf = new Uint8Array(size);\n  writePaletteToBuf(palette, buf, options);\n  await stream.write(buf, size);\n};\n","import { Sample, equalSamplesList } from \"../Sample\";\nimport { ColorModel } from \"../ColorModel\";\nimport { Palette, analyzePaletteTransparency } from \"../Palette\";\nimport { PixelDepth } from \"../types\";\nimport { PixelFormatDef } from \"./PixelFormatDef\";\nimport { analysePixelFormatDef } from \"./analysePixelFormatDef\";\nimport { parseSignature } from \"./parseSignature\";\nimport { defFromSamples } from \"./defFromSamples\";\nimport { signatureFromSamples } from \"./signatureFromSamples\";\nimport { ParcelPixelFormat } from \"./ParcelPixelFormat\";\n\nexport class PixelFormat {\n  constructor();\n\n  constructor(depth: PixelDepth, colorModel?: ColorModel, alpha?: boolean);\n\n  constructor(depth: 1 | 2 | 4 | 8, palette: Readonly<Palette>);\n\n  constructor(def: PixelFormatDef);\n\n  constructor(signature: string);\n\n  constructor(samples: Sample[], def?: PixelFormatDef);\n\n  constructor(\n    a?: PixelDepth | string | PixelFormatDef | Sample[],\n    b?: ColorModel | PixelFormatDef | Readonly<Palette>,\n    c?: boolean\n  ) {\n    if (typeof a === \"number\" && (!b || typeof b === \"string\")) {\n      const [def, samples] = analysePixelFormatDef({\n        depth: a,\n        colorModel: b || \"Auto\",\n        alpha: c,\n      });\n      this.def = def;\n      this.samples = samples;\n    } else if (typeof a === \"number\" && Array.isArray(b)) {\n      const [def, samples] = analysePixelFormatDef({\n        depth: a,\n        palette: b,\n        colorModel: \"Indexed\",\n        alpha: analyzePaletteTransparency(b).type === \"alpha\",\n      });\n      this.samples = samples;\n      this.def = def;\n    } else if (Array.isArray(a) && (!b || typeof b === \"object\")) {\n      this.samples = a;\n      this.def = (b as PixelFormatDef) ?? defFromSamples(a);\n    } else if (typeof a === \"object\") {\n      const [def, samples] = analysePixelFormatDef(a as PixelFormatDef);\n      this.def = def;\n      this.samples = samples;\n    } else if (typeof a === \"string\") {\n      this.samples = parseSignature(a);\n      this.def = defFromSamples(this.samples);\n    } else {\n      this.def = { depth: 0, colorModel: \"Unknown\" };\n      this.samples = [];\n    }\n  }\n\n  readonly samples: Sample[];\n\n  readonly def: PixelFormatDef;\n\n  get alpha(): boolean {\n    return !!this.def.alpha;\n  }\n\n  // color depth in bits per pixel. 24 for RGB(888) or 8 for std indexed\n  get depth(): PixelDepth {\n    return this.def.depth;\n  }\n\n  get depthAligned(): PixelDepth {\n    const { depth } = this;\n    return depth === 15 ? 16 : depth;\n  }\n\n  get colorModel(): ColorModel {\n    return this.def.colorModel;\n  }\n\n  get palette(): Readonly<Palette> | undefined {\n    return this.def.palette;\n  }\n\n  setPalette(pal?: Readonly<Palette>) {\n    this.def.palette = pal;\n  }\n\n  get signature(): string {\n    return signatureFromSamples(this.samples);\n  }\n\n  equals(other: PixelFormat): boolean {\n    return (\n      equalSamplesList(this.samples, other.samples) &&\n      JSON.stringify(this.palette) === JSON.stringify(other.palette)\n    );\n  }\n\n  get sampleBitMasks(): BigInt[] {\n    return this.samples.map(\n      (sd) => BigInt((1 << sd.length) - 1) << BigInt(sd.shift)\n    );\n  }\n\n  get maxSampleDepth(): number {\n    return this.samples.reduce((acc, { length }) => Math.max(acc, length), 0);\n  }\n\n  toString(): string {\n    return this.signature;\n  }\n\n  static readonly canvas = new PixelFormat(\"R8G8B8A8\");\n\n  toParcel(): ParcelPixelFormat {\n    return {\n      def: this.def,\n      samples: this.samples,\n    };\n  }\n\n  static fromParcel({ samples, def }: ParcelPixelFormat): PixelFormat {\n    return new PixelFormat(samples, def);\n  }\n}\n","import { Sample, SampleSign } from \"../Sample\";\nimport { PixelFormatDef } from \"./PixelFormatDef\";\n\nconst stdSamples = (length: number, signs: SampleSign[]): Sample[] =>\n  signs.map((sign, i) => ({ sign, length, shift: i * length }));\n\nexport const analysePixelFormatDef = (\n  srcDef: PixelFormatDef\n): [PixelFormatDef, Sample[]] => {\n  let samples: Sample[] = [];\n  const { palette, depth } = srcDef;\n  let { alpha, colorModel } = srcDef;\n  let bErr = false;\n  if (colorModel === \"Auto\") {\n    if (palette) colorModel = \"Indexed\";\n    else if (depth <= 8) colorModel = \"Gray\";\n    else colorModel = \"RGB\";\n  }\n  if (colorModel === \"RGB\") {\n    const mkSamples = (\n      r: number,\n      g: number,\n      b: number,\n      a?: number\n    ): Sample[] => {\n      const res: Sample[] = [\n        { shift: 0, length: b, sign: \"B\" },\n        { shift: b, length: g, sign: \"G\" },\n        { shift: b + g, length: r, sign: \"R\" },\n      ];\n      if (a) res.push({ shift: b + g + r, length: a, sign: alpha ? \"A\" : \"X\" });\n      return res;\n    };\n    if (depth === 24 && !alpha) {\n      samples = mkSamples(8, 8, 8); // B8G8R8\n    } else if (depth === 32) {\n      alpha = alpha !== false;\n      samples = mkSamples(8, 8, 8, 8); // B8G8R8A8 | B8G8R8X8\n    } else if (depth === 16) {\n      // B5G5R5A1 | B5G6R5\n      samples = alpha ? mkSamples(5, 5, 5, 1) : mkSamples(5, 6, 5);\n    } else if (depth === 15 && alpha !== true) {\n      samples = mkSamples(5, 5, 5);\n    } else if (depth === 48 && alpha !== true) {\n      samples = mkSamples(16, 16, 16); // B16G16R16\n    } else if (depth === 64 && alpha !== false) {\n      samples = mkSamples(16, 16, 16, 16); // B16G16R16A16\n    } else if (depth === 96 && alpha !== true) {\n      samples = mkSamples(32, 32, 32);\n    } else if (depth === 128 && alpha !== false) {\n      samples = mkSamples(32, 32, 32, 32);\n    } else bErr = true;\n    alpha = alpha ?? samples.length === 4;\n  } else if (colorModel === \"Gray\") {\n    const gSamples = (g: number, a?: number) => {\n      samples.push({ sign: \"G\", shift: 0, length: g });\n      if (a) samples.push({ sign: \"A\", shift: g, length: a });\n    };\n    if (\n      (depth === 8 || depth === 4 || depth === 2 || depth === 1) &&\n      alpha !== true\n    ) {\n      gSamples(depth);\n    } else if (depth === 16) {\n      if (alpha === true) gSamples(8, 8);\n      else gSamples(16);\n    } else if (depth === 32) {\n      if (alpha !== false) gSamples(16, 16);\n      else gSamples(depth);\n    } else if (depth === 64 && alpha !== false) {\n      gSamples(32, 32);\n    } else bErr = true;\n    alpha = alpha ?? samples.length === 2;\n  } else if (colorModel === \"Indexed\") {\n    alpha = !!alpha;\n    samples.push({ sign: alpha ? \"J\" : \"I\", shift: 0, length: depth });\n  } else if (colorModel === \"CMYK\") {\n    if (depth === 32 && alpha !== true) {\n      alpha = false;\n      samples = stdSamples(8, [\"C\", \"M\", \"Y\", \"K\"]);\n    } else if (depth === 40 && alpha !== false) {\n      alpha = true;\n      samples = stdSamples(8, [\"C\", \"M\", \"Y\", \"K\", \"A\"]);\n    } else bErr = true;\n  }\n  if (bErr) {\n    throw Error(\n      `Invalid pixel format: ${depth} bit/pixel, ${colorModel}${\n        alpha ? \"+Alpha\" : \"\"\n      }`\n    );\n  }\n  return [{ depth, colorModel, alpha, palette }, samples];\n};\n","import { PixelDepth } from \"../types\";\nimport { ColorModel } from \"../ColorModel\";\nimport { Palette } from \"../Palette/Palette\";\nimport { Sample, SampleSign } from \"../Sample\";\nimport { PixelFormatDef } from \"./PixelFormatDef\";\n\nconst mapSignsToColorModel: Record<string, ColorModel> = {\n  BGR: \"RGB\",\n  G: \"Gray\",\n  I: \"Indexed\",\n  CKMY: \"CMYK\",\n};\n\nexport const defFromSamples = (\n  samples: Sample[],\n  palette?: Palette\n): PixelFormatDef => {\n  const signs: SampleSign[] = [];\n  let alpha = false;\n  let depth = 0;\n  samples.forEach(({ sign, length }) => {\n    alpha = alpha || sign === \"A\" || sign === \"J\";\n    if (sign !== \"A\" && sign !== \"X\") signs.push(sign === \"J\" ? \"I\" : sign);\n    depth += length;\n  });\n  signs.sort();\n  const s = signs.join(\"\");\n  const colorModel = mapSignsToColorModel[s] ?? \"Unknown\";\n  return {\n    depth: depth as PixelDepth,\n    colorModel,\n    alpha,\n    palette,\n  };\n};\n","export * from \"./PixelFormat\";\nexport * from \"./PixelFormatDef\";\nexport * from \"./ParcelPixelFormat\";\n","import { Sample, SampleSign, sampleSignChars } from \"../Sample\";\n\nexport const parseSignature = (signature: string): Sample[] => {\n  if (!/^([A-Z]\\d+)+$/.test(signature))\n    throw Error(`Invalid pixel format signature [${signature}]`);\n  const chunks = signature.replace(/(\\d)([A-Z])/g, \"$1,$2\").split(\",\");\n  if (chunks.length > 5) throw Error(`Too many samples in [${signature}]`);\n  let shift = 0;\n  return chunks.map((chunk) => {\n    const sign = chunk[0] as SampleSign;\n    const length = +chunk.slice(1);\n    if (!sampleSignChars[sign])\n      throw Error(`Unknown sample letter [${sign}] in [${signature}]`);\n    if (!length || length > 32)\n      throw Error(`Invalid sample size ${length} in [${signature}]`);\n    const s: Sample = {\n      shift,\n      length,\n      sign,\n    };\n    shift += length;\n    return s;\n  });\n};\n","import { Sample } from \"../Sample\";\n\nexport const signatureFromSamples = (samples: Sample[]): string => {\n  const sorted = [...samples];\n  sorted.sort((a, b) => a.shift - b.shift);\n  return sorted.map(({ sign, length }) => `${sign}${length}`).join(\"\");\n};\n","export type SampleSign =\n  | \"R\"\n  | \"G\"\n  | \"B\"\n  | \"A\"\n  | \"X\"\n  | \"I\"\n  | \"J\"\n  | \"C\"\n  | \"M\"\n  | \"Y\"\n  | \"K\";\n\nexport interface Sample {\n  shift: number;\n  length: number;\n  sign: SampleSign;\n}\n\nexport const equalSamples = (s1: Sample, s2: Sample): boolean =>\n  s1.shift === s2.shift && s1.length === s2.length && s1.sign === s2.sign;\n\nexport const sampleSignChars: Record<SampleSign, boolean> = {\n  R: true,\n  G: true,\n  B: true,\n  A: true,\n  X: true,\n  I: true,\n  J: true,\n  C: true,\n  M: true,\n  Y: true,\n  K: true,\n};\n\nexport const equalSamplesList = (a: Sample[], b: Sample[]): boolean =>\n  a.length === b.length &&\n  a.reduce((acc, left, i) => equalSamples(left, b[i]!), true);\n","import { ImageInfo, getImageLineSize } from \"../ImageInfo\";\nimport { Point } from \"../math/Point\";\nimport { ColorModel } from \"../ColorModel\";\nimport { Palette } from \"../Palette\";\n\n/**\n * Surface = raster image\n * This name is used in order not to override the standard Image from WEB API\n */\nexport abstract class Surface {\n  constructor(public info: ImageInfo) {}\n\n  abstract getRowBuffer(y: number): Uint8Array;\n\n  get width(): number {\n    return this.info.size.x;\n  }\n\n  get height(): number {\n    return this.info.size.y;\n  }\n\n  get colorModel(): ColorModel {\n    return this.info.fmt.colorModel;\n  }\n\n  get palette(): Readonly<Palette> | undefined {\n    return this.info.fmt.palette;\n  }\n\n  setPalette(newPalette: Readonly<Palette> | undefined) {\n    this.info.fmt.setPalette(newPalette);\n  }\n\n  get bitsPerPixel() {\n    return this.info.fmt.depth;\n  }\n\n  get size(): Point {\n    return this.info.size;\n  }\n\n  get rowSize(): number {\n    return getImageLineSize(this.info);\n  }\n\n  getRowOffset(y: number): number {\n    return y * this.rowSize;\n  }\n}\n","import { Point } from \"../math/Point\";\nimport { PixelFormat } from \"../PixelFormat\";\nimport { ErrorRI } from \"../utils\";\nimport { fromParcelImageInfo, toParcelImageInfo } from \"../ImageInfo\";\nimport { Surface } from \"./Surface\";\nimport { ParcelSurface } from \"./ParcelSurface\";\n\n/**\n * Using standard ImageData from Canvas as Surface\n */\nexport class SurfaceImageData extends Surface {\n  constructor(public imageData: ImageData) {\n    super({\n      size: new Point(imageData.width, imageData.height),\n      fmt: PixelFormat.canvas,\n    });\n  }\n\n  getRowBuffer(y: number): Uint8Array {\n    const { data } = this.imageData;\n    return new Uint8Array(data.buffer, data.byteOffset + this.getRowOffset(y));\n  }\n\n  toParcel(): ParcelSurface {\n    return {\n      info: toParcelImageInfo(this.info),\n      data: new Uint8Array(\n        this.imageData.data.buffer,\n        this.imageData.data.byteOffset\n      ),\n    };\n  }\n\n  static fromParcel(parcel: ParcelSurface): SurfaceImageData {\n    const info = fromParcelImageInfo(parcel.info);\n    if (!PixelFormat.canvas.equals(info.fmt)) {\n      throw new ErrorRI(\"Unsupported pixel format <fmt> for ImageData\", {\n        fmt: info.fmt.signature,\n      });\n    }\n    const { data } = parcel;\n    return new SurfaceImageData(\n      new ImageData(\n        new Uint8ClampedArray(data.buffer, data.byteOffset),\n        info.size.x,\n        info.size.y\n      )\n    );\n  }\n}\n","import { subBuffer } from \"../utils\";\nimport { PixelDepth } from \"../types\";\nimport { PixelFormat } from \"../PixelFormat\";\nimport { Palette } from \"../Palette/Palette\";\nimport { Variables } from \"../ImageInfo/Variables\";\nimport {\n  ImageInfo,\n  createInfoSign,\n  fromParcelImageInfo,\n  getImageLineSize,\n  toParcelImageInfo,\n} from \"../ImageInfo\";\nimport { Point } from \"../math/Point\";\nimport { ColorModel } from \"../ColorModel\";\nimport { Surface } from \"./Surface\";\nimport { ParcelSurface } from \"./ParcelSurface\";\n\n/**\n * SurfaceStd use ArrayBuffer for pixel data\n */\nexport class SurfaceStd extends Surface {\n  data: Uint8Array;\n\n  constructor(imgInfo: ImageInfo, existsData?: Uint8Array) {\n    super(imgInfo);\n    this.info = imgInfo;\n    this.data =\n      existsData ??\n      new Uint8Array(getImageLineSize(this.info) * this.info.size.y);\n  }\n\n  static createSize(\n    size: Point,\n    depth: PixelDepth,\n    params?: {\n      colorModel?: ColorModel;\n      alpha?: boolean;\n      palette?: Readonly<Palette>;\n      vars?: Variables;\n      data?: Uint8Array;\n    }\n  ): SurfaceStd {\n    return new SurfaceStd(\n      {\n        size,\n        fmt: new PixelFormat({\n          depth,\n          colorModel: params?.colorModel ?? \"Auto\",\n          alpha: params?.alpha,\n          palette: params?.palette,\n        }),\n        vars: params?.vars,\n      },\n      params?.data\n    );\n  }\n\n  static create(\n    width: number,\n    height: number,\n    depth: PixelDepth,\n    params?: {\n      colorModel?: ColorModel;\n      alpha?: boolean;\n      palette?: Readonly<Palette>;\n      vars?: Variables;\n      data?: Uint8Array;\n    }\n  ): SurfaceStd {\n    return SurfaceStd.createSize(new Point(width, height), depth, params);\n  }\n\n  static createSign(\n    width: number,\n    height: number,\n    signature: string,\n    options?: {\n      palette?: Palette;\n      data?: Uint8Array;\n    }\n  ): SurfaceStd {\n    const imgInfo: ImageInfo = createInfoSign(width, height, signature);\n    if (options?.palette) imgInfo.fmt.setPalette(options?.palette);\n    return new SurfaceStd(imgInfo, options?.data);\n  }\n\n  // Десериализация изображения, пересылаемого через postMessage\n  static fromParcel({ info, data }: ParcelSurface): SurfaceStd {\n    return new SurfaceStd(fromParcelImageInfo(info), data);\n  }\n\n  toParcel(): ParcelSurface {\n    return {\n      info: toParcelImageInfo(this.info),\n      data: this.data,\n    };\n  }\n\n  createDataView(): DataView {\n    return new DataView(this.data.buffer, this.data.byteOffset);\n  }\n\n  getRowBuffer(y: number): Uint8Array {\n    return subBuffer(this.data, this.getRowOffset(y), this.rowSize);\n  }\n\n  getRowBufferClamped(y: number): Uint8ClampedArray {\n    return new Uint8ClampedArray(\n      this.data.buffer,\n      this.data.byteOffset + this.getRowOffset(y),\n      this.rowSize\n    );\n  }\n\n  fill(unsignedByte: number) {\n    const buf = new Uint8Array(this.data.buffer, this.data.byteOffset);\n    buf.fill(unsignedByte);\n  }\n}\n","export * from \"./Surface\";\nexport * from \"./SurfaceStd\";\nexport * from \"./SurfaceImageData\";\nexport * from \"./ParcelSurface\";\n","import { toa, is0 } from \"./index\";\nimport { deg2rad, rad2deg } from \"./radians\";\n\nexport const pointFromRad = (angle: number): Point =>\n  new Point(Math.cos(angle), Math.sin(angle));\n\nexport const pointFromDeg = (angle: number): Point =>\n  pointFromRad(deg2rad(angle));\n\nexport class Point {\n  x: number;\n\n  y: number;\n\n  constructor(x: number = 0.0, y: number = 0.0) {\n    this.x = x;\n    this.y = y;\n  }\n\n  set(x: number, y: number): void {\n    this.x = x;\n    this.y = y;\n  }\n\n  setPt(src: Point): void {\n    this.x = src.x;\n    this.y = src.y;\n  }\n\n  toString(): string {\n    return `(${toa(this.x)}, ${toa(this.y)})`;\n  }\n\n  clone(): Point {\n    return new Point(this.x, this.y);\n  }\n\n  // Operator p == p\n  equals(other: Point): boolean {\n    return is0(this.x - other.x) && is0(this.y - other.y);\n  }\n\n  isZero(): boolean {\n    return is0(this.x) && is0(this.y);\n  }\n\n  // Operator p + p\n  plus(pt: Point): Point {\n    return new Point(this.x + pt.x, this.y + pt.y);\n  }\n\n  add(deltaX: number, deltaY: number): this {\n    this.x += deltaX;\n    this.y += deltaY;\n    return this;\n  }\n\n  iadd(pt: Point): this {\n    this.x += pt.x;\n    this.y += pt.y;\n    return this;\n  }\n\n  isub(pt: Point): this {\n    this.x -= pt.x;\n    this.y -= pt.y;\n    return this;\n  }\n\n  // Operator p - p\n  minus(pt: Point): Point {\n    return new Point(this.x - pt.x, this.y - pt.y);\n  }\n\n  neg(): Point {\n    return new Point(-this.x, -this.y);\n  }\n\n  // Operator p * k\n  times(k: number): Point {\n    return new Point(k * this.x, k * this.y);\n  }\n\n  scale(k: number): this {\n    this.x *= k;\n    this.y *= k;\n    return this;\n  }\n\n  mini(pt: Point): void {\n    this.x = Math.min(this.x, pt.x);\n    this.y = Math.min(this.y, pt.y);\n  }\n\n  maxi(pt: Point): void {\n    this.x = Math.max(this.x, pt.x);\n    this.y = Math.max(this.y, pt.y);\n  }\n\n  polarAngle(): number {\n    if (is0(this.x) && is0(this.y)) {\n      return 0.0;\n    }\n    if (is0(this.x)) {\n      return this.y > 0.0 ? Math.PI / 2.0 : -Math.PI / 2.0;\n    }\n    return Math.atan2(this.y, this.x);\n  }\n\n  polarAngleDeg(): number {\n    return rad2deg(this.polarAngle());\n  }\n\n  // Square of length\n  lengthSqr(): number {\n    return this.x * this.x + this.y * this.y;\n  }\n\n  length(): number {\n    return Math.sqrt(this.lengthSqr());\n  }\n\n  distSqr(p: Point): number {\n    return p.minus(this).lengthSqr();\n  }\n\n  dist(p: Point): number {\n    return Math.sqrt(this.distSqr(p));\n  }\n\n  normal(): Point {\n    const len = this.length();\n    return is0(len) ? new Point() : this.times(1 / len);\n  }\n\n  transpon(ccw?: boolean): Point {\n    return ccw ? new Point(this.y, -this.x) : new Point(-this.y, this.x);\n  }\n\n  static get zero() {\n    return staticZero;\n  }\n}\n\nconst staticZero = Object.freeze(new Point());\n","export const is0 = (value: number) => Math.abs(value) < 0.001;\n\nexport const isClose = (a: number, b: number) => is0(Math.abs(a) - Math.abs(b));\n\nexport const toa = (value: number): string =>\n  value.toFixed(2).replace(/0+$/g, \"\").replace(/\\.$/, \"\").replace(/^-0$/, \"0\");\n","export const rad2deg = (angleInRadians: number) =>\n  (angleInRadians * 180.0) / Math.PI;\n\nexport const deg2rad = (angleInDegrees: number) =>\n  (angleInDegrees * Math.PI) / 180.0;\n","export type ErrParamValue = number | string;\nexport type ErrParams = Record<string, ErrParamValue>;\n\nexport class ErrorRI extends Error {\n  readonly msgId: string;\n\n  readonly params?: ErrParams;\n\n  constructor(msgId: string, params?: ErrParams) {\n    super(ErrorRI.makeMessage(msgId, params));\n    this.msgId = msgId;\n    this.params = params;\n  }\n\n  static makeMessage(msgId: string, params?: ErrParams): string {\n    return msgId.replace(/<([A-Za-z\\d]+)>/g, (_, si) => params?.[si] ?? si);\n  }\n}\n","export const delay = (ms: number): Promise<void> =>\n  new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });\n","export const dump = (buf: Uint8Array, begin?: number, end?: number): string =>\n  Array.from(buf.slice(begin ?? 0, end ?? buf.byteLength))\n    .map((n: number) => n.toString(16).toUpperCase().padStart(2, \"0\"))\n    .join(\" \");\n\nexport const dumpW = (buf: Uint16Array, begin?: number, end?: number): string =>\n  Array.from(buf.slice(begin ?? 0, end ?? buf.byteLength))\n    .map((n: number) => n.toString(16).toUpperCase().padStart(4, \"0\"))\n    .join(\" \");\n\nexport const dumpA = (arr: (number | BigInt)[]): string =>\n  arr\n    .map((n) => n.toString(16).toUpperCase())\n    .map((s) => (s.length & 1 ? `0${s}` : s))\n    .join(\" \");\n","import { dumpA } from \"./dump\";\n\nexport const dumpChunks = (chunkLength: number, buf: Uint8Array): string[] => {\n  const chunks: number[][] = [];\n  buf.forEach((n, i) => {\n    if (i % chunkLength === 0) {\n      chunks.push([]);\n    }\n    chunks[chunks.length - 1]!.push(n);\n  });\n  return chunks.map((chunk) => dumpA(chunk));\n};\n","export * from \"./ErrorRI\";\nexport * from \"./dump\";\nexport * from \"./dumpChunks\";\nexport * from \"./subBuffer\";\nexport * from \"./utf8\";\nexport * from \"./delay\";\nexport * from \"./rangeLimit\";\n","export const isNode = (): boolean => {\n  try {\n    return process?.release?.name === \"node\";\n  } catch (e) {\n    return false;\n  }\n};\n","export const rangeLimit = (value: number): number =>\n  Math.max(Math.min(value, 255), 0);\n\nexport const rangeLimit16 = (value: number): number =>\n  Math.max(Math.min(value, 0xffff), 0);\n","export const subBuffer = (\n  buf: Uint8Array,\n  offset: number,\n  size?: number\n): Uint8Array => new Uint8Array(buf.buffer, buf.byteOffset + offset, size);\n","import { isNode } from \"./isNode\";\n\n/* eslint global-require: \"off\" */\n\nlet decoder: TextDecoder;\n\nexport const bytesToUtf8 = (bytes: Uint8Array): string => {\n  if (!decoder) {\n    if (isNode()) {\n      // may need to be added to webpack config:\n      //    resolve: { fallback: { \"buffer\": false } }\n      // @ts-ignore\n      const util = require(\"util\");\n      decoder = new util.TextDecoder(\"utf8\");\n    } else {\n      decoder = new TextDecoder(\"utf8\");\n    }\n  }\n  return decoder.decode(bytes);\n};\n\nlet encoder: TextEncoder;\n\nexport const utf8ToBytes = (text: string): Uint8Array => {\n  if (!encoder) {\n    if (isNode()) {\n      // @ts-ignore\n      const util = require(\"util\");\n      encoder = new util.TextEncoder();\n    } else {\n      encoder = new TextEncoder();\n    }\n  }\n  return encoder.encode(text);\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","import { SurfaceImageData } from \"raster-images/Surface\";\nimport { MsgData, MsgOnImageLoad } from \"./types\";\nimport \"./style.css\";\n\nwindow.addEventListener(\"load\", (): void => {\n  const workerLoad = new Worker(\"workerLoad.js\");\n  const buttonLoad = document.getElementById(\"buttonLoad\") as HTMLInputElement;\n  if (!buttonLoad) {\n    throw new Error(\"#buttonLoad element not found\");\n  }\n  buttonLoad.addEventListener(\"change\", (e) => {\n    const { files } = e.target as HTMLInputElement;\n    if (files?.length === 1) {\n      onMessage({ type: \"onStart\" });\n      const file = files[0];\n      workerLoad.postMessage({ type: \"loadFile\", file });\n    }\n  });\n  workerLoad.addEventListener(\"message\", ({ data }) => {\n    if (typeof data === \"object\" && data?.type) {\n      onMessage(data);\n    }\n  });\n});\n\nconst onMessage = (msg: MsgData) => {\n  const resultBox = document.getElementById(\"resultBox\");\n  if (!resultBox) return;\n  const { type } = msg;\n  if (type === \"onProgress\") {\n    const progressInfo = document.getElementById(\"progressInfo\");\n    if (progressInfo) {\n      const { value, maxValue, step } = msg.info;\n      const percent = maxValue ? Math.round((value * 100) / maxValue) : 0;\n      progressInfo.innerText = `${step} ${percent} %`;\n    }\n    return;\n  }\n  resultBox.innerHTML = \"\";\n  if (type === \"onImageLoad\") {\n    drawImage(msg, resultBox);\n  } else if (type === \"onError\") {\n    const div = document.createElement(\"div\");\n    div.classList.add(\"error\");\n    div.innerText = msg.error.message;\n    resultBox.appendChild(div);\n  } else if (type === \"onStart\") {\n    const div = document.createElement(\"div\");\n    div.classList.add(\"progress-box\");\n    div.innerText = \"Wait...\";\n    resultBox.appendChild(div);\n    const progressInfo = document.createElement(\"span\");\n    progressInfo.id = \"progressInfo\";\n    resultBox.appendChild(progressInfo);\n  }\n};\n\nconst drawImage = (msg: MsgOnImageLoad, resultBox: HTMLElement) => {\n  try {\n    const image = SurfaceImageData.fromParcel(msg.image);\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = image.width;\n    canvas.height = image.height;\n    resultBox.appendChild(canvas);\n    const ctx = canvas.getContext(\"2d\");\n    if (!ctx) {\n      throw Error(\"Canvas don't supported\");\n    } else {\n      ctx.rect(0, 0, image.width, image.height);\n      ctx.fill();\n      ctx.putImageData(image.imageData, 0, 0);\n    }\n  } catch (error) {\n    onMessage({ type: \"onError\", error });\n  }\n};\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","stylesInDOM","getIndexByIdentifier","identifier","result","modulesToDom","idCountMap","identifiers","base","count","indexByIdentifier","obj","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","memo","style","target","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","appendChild","element","createElement","attributes","styleElement","nonce","setAttribute","apply","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","createInfoSize","size","depth","colorModel","alpha","palette","vars","fmt","PixelFormat","createInfo","width","height","Point","createInfoSign","signature","getImageLineSize","pitch","calcPitch","x","copyImageInfo","src","clone","copyVars","toParcelImageInfo","rest","y","toParcel","fromParcelImageInfo","fromParcel","dst","Object","entries","forEach","key","value","cloneVarValue","Array","isArray","getVarNumber","v","defaultValue","n","Number","isNaN","alignBytes","notAligned","getSizeAndDepth","info","analyzePaletteTransparency","a","type","calcPaletteSize","dword","createPalette","pal","createFreePalette","createGrayPalette","g","Math","round","isFreeColor","iEGA","N","D","H","A","paletteEGA","freeze","readPalette","stream","read","buf","readPaletteFromBuf","srcPos","rgb","bits6","dstPos","b","writePaletteToBuf","pos","samples","r","c","j","writePalette","Uint8Array","write","analysePixelFormatDef","def","parseSignature","defFromSamples","setPalette","signatureFromSamples","equals","other","equalSamplesList","sd","BigInt","shift","reduce","acc","max","canvas","stdSamples","signs","sign","srcDef","bErr","mkSamples","res","gSamples","mapSignsToColorModel","BGR","G","I","CKMY","sort","s","test","chunks","replace","split","chunk","slice","sampleSignChars","sorted","equalSamples","s1","s2","R","B","X","J","C","M","Y","K","left","newPalette","getRowOffset","rowSize","Surface","imageData","getRowBuffer","buffer","byteOffset","parcel","ErrorRI","SurfaceImageData","ImageData","Uint8ClampedArray","imgInfo","existsData","createSize","params","SurfaceStd","create","createSign","createDataView","DataView","subBuffer","getRowBufferClamped","fill","unsignedByte","pointFromRad","angle","cos","sin","pointFromDeg","deg2rad","set","setPt","toa","is0","isZero","plus","pt","add","deltaX","deltaY","iadd","isub","minus","neg","times","scale","mini","min","maxi","polarAngle","PI","atan2","polarAngleDeg","rad2deg","lengthSqr","sqrt","distSqr","p","dist","normal","len","transpon","ccw","staticZero","abs","isClose","toFixed","angleInRadians","angleInDegrees","msgId","makeMessage","_","si","delay","ms","Promise","resolve","setTimeout","dump","begin","end","from","byteLength","toUpperCase","padStart","dumpW","dumpA","arr","dumpChunks","chunkLength","isNode","process","release","name","rangeLimit","rangeLimit16","offset","decoder","encoder","bytesToUtf8","bytes","util","TextDecoder","decode","utf8ToBytes","text","TextEncoder","encode","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call","getter","__esModule","d","definition","o","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","Symbol","toStringTag","nc","addEventListener","workerLoad","Worker","buttonLoad","getElementById","files","onMessage","file","postMessage","msg","resultBox","innerHTML","drawImage","div","classList","innerText","error","message","progressInfo","maxValue","step","percent","image","ctx","getContext","rect","putImageData"],"sourceRoot":""}